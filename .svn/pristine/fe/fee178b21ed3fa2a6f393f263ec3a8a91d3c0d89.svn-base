<?php if ( ! defined('BASEPATH')) exit ('No direct script access allowed');/** * * This controller is a controller from Police Libreri * All views of this controller are in police folder *  * User Poerfil * Login * Logout * Recobery password *  * */class Users extends MY_Controller {	function __construct()	{		parent::__construct();		// Force encrypted connection		$this->police->force_ssl();        // Control police start permission and authentication		$data['documents'] = $this->police->police_control();		$this->load->vars($data);	}    //--------------------------------------------------------------------------    /**     * Controller edit and modify profile courrent account     *      */    function myprofile()    {//        $this->load->library('form_validation');//        $this->User_model->get_user();////        if ($this->form_validation->run() == FALSE){//			// $data['error'] = TRUE;//		}else{//			$data['formsuccess'] = TRUE;//		}////        $data['links'] = NULL; //        $data['jscript'] = NULL;        $data['main_content'] = 'police/myprofile';        $this->load->view( config_item('template').'main', $data);    }    //--------------------------------------------------------------------------      /*     *  User this model if you have a public and private pages     */    function login()    {//   //        $this->police->login_form();////        $data['main_content'] = 'static/welcome';	 //        $this->load->view( config_item('template').'main', $data);    }    //--------------------------------------------------------------------------        /**     *  Logout destroy seccion     */    function logout()    {        $this->police->logout();        $data['documents'] = NULL;        $data['main_content'] = 'police/logout';        $this->load->view( config_item('template').'main', $data);    }    //--------------------------------------------------------------------------        /*     *  talbe of users     */        function manage_users()	{//		$this->police->special_permission( 1 );//       //        $search=$this->input->get('search');//        //        $rows = $this->User_model->user_count($search);//       //        $per_page = 20; //rows per page////        $pages = ceil($rows/$per_page); //        //        $data['search'] = $search;//        $data['pages'] = $pages;//        $data['per_page'] = $per_page;//       //        $data['links'] = NULL; //        $data['jscript'] = array ('js/jquery.min.js','js/manager_users.js', 'js/jquery.cookie.js');////        $data['cadenas']=array('<link rel="stylesheet" href="'.base_url().'css/tablas.css"/>',//                                '<link rel="stylesheet" href="'.base_url().'css/formulario.css"/>',//                                '<link rel="stylesheet" href="'.base_url().'css/paginator.css"/>',//                                '<script type="text/javascript" src="'.base_url().'js/jquery.min.js"></script>',//                                '<script type="text/javascript" src="'.base_url().'js/jquery.ui/jquery-ui.min.js"></script>',////                                '<!--Paginador-->',//                                '<script type="text/javascript" src="'.base_url().'js/jquery.ui/modernizr.custom.63321.js"></script>',//                                '<script type="text/javascript" src="'.base_url().'js/jquery.ui/jquery.pagination.js"></script>',//            //                                '<!--De la Pagina-->',//                                '<script type="text/javascript" src="'.base_url().'js/comensales.js"></script>',//                                //                                '<!--Color Box -->'.//                                '<script src="'.base_url().'js/jquery.ui/jquery.colorbox-min.js"></script>',//                                '<link rel="stylesheet" href="'.base_url().'css/colorbox.css" />');//                		$data['main_content'] = 'police/manage_users';	 		$this->load->view( config_item('template').'main', $data);	}    //--------------------------------------------------------------------------        /*     *  Load content table users     */            function manage_users_table()    {//       if($this->input->is_ajax_request()){//            $this->load->helper('police_helper');////            //Get data from post//            $search = $this->input->post('search');//            $page = $this->input->post('page');//            $perpage = $this->input->post('perpage');//            $number = ($page*$perpage)-$perpage;//            $table = $this->User_model->user_table($search,$number,$perpage);//            $data['contar'] = $number;//            $data['table'] = $table;//            $this->load->view('police/ajax/user_table', $data);//        }else{//            redirect('start');//        }    }}/* End of file user.php *//* Location: ./application/controllers/user.php */